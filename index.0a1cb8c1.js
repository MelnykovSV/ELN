!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var n={};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var l=function n(){"use strict";e(t)(this,n),this.fractionGlobalID=n.fractionGlobalID+=1,this.mass=null,this.purity=null,this.isNMR=!1,this.isLCMS=!1,this.comment=!1};e(o)(l,"fractionGlobalID",0);var r=function(){"use strict";function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.mw,l=void 0===o?null:o,r=n.dbID,i=void 0===r?null:r,c=n.smiles,s=void 0===c?null:c,d=n.isTestSuccessful,u=void 0!==d&&d,m=n.isScalingSuccessful,f=void 0!==m&&m,b=n.fractions,p=void 0===b?[]:b,v=arguments.length>1?arguments[1]:void 0;e(t)(this,a),this.compoundGlobalID=v,this.mw=l,this.smiles=s,this.isTestSuccessful=u,this.isScalingSuccessful=f,this.fractions=p,this.dbID=i}return e(n)(a,[{key:"addFraction",value:function(){this.fractions.push(new l)}}]),a}();function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.compoundGlobalID,n=e.mw,a=void 0===n?"":n,o=e.smiles,l=void 0===o?"":o,r=e.isTestSuccessful,i=e.isScalingSuccessful,c=e.dbID,s=void 0===c?"":c,d=(e.fractions,document.querySelector(".main-page")),u='<form action="#" class="compound-form" data-id = \''.concat(t,'\'>\n    <div class="compound-form__body">\n      <div class="compound-form__upper-part">\n        <div class="compound-form-canvas-container">\n          <canvas id="canvas').concat(t,'"></canvas>\n        </div>\n        <div class="compound-form__compound-data">\n          <label class="">\n            ID\n            <input type="text" name="dbID" value="').concat(s,'" />\n          </label>\n          <label class="">\n            MW\n            <input type="text" name="mw" value="').concat(a,'" />\n          </label>\n          <label>\n            <input type="checkbox" id="" name="isTestSuccessful" ').concat(!0===r?"checked":"",' />\n            Test\n          </label>\n          <label>\n            <input type="checkbox" id="" name="isScalingSuccessful" ').concat(!0===i?"checked":"",' />\n            Scaling\n          </label>\n        </div>\n      </div>\n      <div class="compound-form__lower-part">\n        <label class="text-input-label">\n          SMILES\n          <input type="text" name="smiles" value="').concat(l,'" />\n        </label>\n        <div class="compound-from__button-block">\n          <button type="submit">Add task</button>\n          <button type="submit">Add compund</button>\n          <label>\n            Fractions\n            <input type="checkbox" name="" id="" />\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class="compound-form__fractions">\n      <div class="compound-form__fractions-main">\n        <label>\n          Fractions\n          <select name="" id="">\n            <option value="">Fraction 1</option>\n            <option value="">Fraction 2</option>\n          </select>\n        </label>\n        <button type="submit">Add fraction</button>\n      </div>\n      <div class="compound-form__single-fraction">\n        <div class="compound-form__single-fraction-upper-part">\n          <div class="compound-form__single-fraction-characteristics">\n            <label class="">\n              Mass\n              <input type="text" />\n            </label>\n            <label class="">\n              Purity\n              <input type="text" />\n            </label>\n          </div>\n          <div class="compound-form__single-fraction-spectra">\n            <label>\n              <input type="checkbox" name="" id="" />\n              NMR\n            </label>\n            <label>\n              <input type="checkbox" name="" id="" />\n              LCMS\n            </label>\n          </div>\n        </div>\n        <div class="compound-form__single-fraction-lower-part">\n          <label class="">\n            Comments\n            <textarea name="" id="" cols="30" rows="3"></textarea>\n          </label>\n        </div>\n      </div>\n    </div>\n  </form>');d.insertAdjacentHTML("beforeend",u)}e(o)(r,"compoundGlobalID",0);var c=function(){"use strict";function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.schemeGlobalID,l=void 0===o?a.schemeGlobalID+=1:o,r=n.body,i=void 0===r?[]:r;e(t)(this,a),this.schemeGlobalID=l,this.body=i}return e(n)(a,[{key:"addCompound",value:function(e){this.body.push(new r({},e))}}]),a}();e(o)(c,"schemeGlobalID",0);var s=function n(){"use strict";var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=a.body,r=void 0===l?[]:l;e(t)(this,n),e(o)(this,"body",void 0),this.body=r};document.querySelector(".page-button"),document.querySelector(".scheme-button");var d=document.querySelector(".compound-button"),u=document.querySelector(".main-page"),m=(document.querySelector(".main-canvas"),document.querySelector(".main-input"),parseInt(localStorage.getItem("globalCompoundID"))||0),f=new SmilesDrawer.Drawer({width:150,height:150});d.addEventListener("click",(function(){m+=1,localStorage.setItem("globalCompoundID",m),b.body[0].addCompound(m),i(b.body[0].body[b.body[0].body.length-1]),u.lastChild.addEventListener("input",(function(e){"INPUT"===e.target.nodeName&&(b.body[0].body.find((function(t){return t.compoundGlobalID===parseInt(e.currentTarget.dataset.id)}))[e.target.name]=e.target.value,localStorage.setItem("pageBody",JSON.stringify(b)),"smiles"===e.target.name&&SmilesDrawer.parse(e.target.value,(function(t){f.draw(t,"canvas".concat(e.currentTarget.dataset.id),"light",!1)})));u.lastChild.addEventListener("change",(function(e){"INPUT"===e.target.nodeName&&"checkbox"===e.target.type&&(console.log("check"),console.log(e.target.checked),b.body[0].body.find((function(t){return t.compoundGlobalID===parseInt(e.currentTarget.dataset.id)}))[e.target.name]=e.target.checked,localStorage.setItem("pageBody",JSON.stringify(b)))}))})),localStorage.setItem("pageBody",JSON.stringify(b))}));var b=function(){if(!localStorage.getItem("pageBody"))return null;var e=new s,t=JSON.parse(localStorage.getItem("pageBody")),n=!0,a=!1,o=void 0;try{for(var i,d=t.body[Symbol.iterator]();!(n=(i=d.next()).done);n=!0){schemeData=i.value;var u=new c;e.body.push(u);var m=!0,f=!1,b=void 0;try{for(var p,v=schemeData.body[Symbol.iterator]();!(m=(p=v.next()).done);m=!0){compoundData=p.value;var y=new r(compoundData,compoundData.compoundGlobalID);u.body.push(y);var g=!0,h=!1,S=void 0;try{for(var I,D=compoundData.fractions[Symbol.iterator]();!(g=(I=D.next()).done);g=!0){fractionData=I.value;var w=new l;y.fractions.push(w)}}catch(e){h=!0,S=e}finally{try{g||null==D.return||D.return()}finally{if(h)throw S}}}}catch(e){f=!0,b=e}finally{try{m||null==v.return||v.return()}finally{if(f)throw b}}}}catch(e){a=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(a)throw o}}return e}();if(null===b&&(b=new s),0!==b.body.length){var p=b.body[0].body.sort((function(e,t){e.compoundGlobalID,t.compoundGlobalID})),v=!0,y=!1,g=void 0;try{for(var h,S=function(e,t){var n=t.value;i(n);document.querySelector("#canvas".concat(n.compoundGlobalID));SmilesDrawer.parse(n.smiles,(function(e){f.draw(e,"canvas".concat(n.compoundGlobalID),"light",!1)}))},I=p[Symbol.iterator]();!(v=(h=I.next()).done);v=!0)S(0,h)}catch(e){y=!0,g=e}finally{try{v||null==I.return||I.return()}finally{if(y)throw g}}}else console.log("local storage is empty"),b.body.push(new c);var D=document.querySelectorAll("[data-id]"),w=!0,_=!1,k=void 0;try{for(var x,G=D[Symbol.iterator]();!(w=(x=G.next()).done);w=!0)item=x.value,item.addEventListener("input",(function(e){"INPUT"===e.target.nodeName&&"text"===e.target.type&&(b.body[0].body.find((function(t){return t.compoundGlobalID===parseInt(e.currentTarget.dataset.id)}))[e.target.name]=e.target.value,localStorage.setItem("pageBody",JSON.stringify(b)),"smiles"===e.target.name&&SmilesDrawer.parse(e.target.value,(function(t){f.draw(t,"canvas".concat(e.currentTarget.dataset.id),"light",!1)})))})),item.addEventListener("change",(function(e){"INPUT"===e.target.nodeName&&"checkbox"===e.target.type&&(console.log("check"),console.log(e.target.checked),b.body[0].body.find((function(t){return t.compoundGlobalID===parseInt(e.currentTarget.dataset.id)}))[e.target.name]=e.target.checked,localStorage.setItem("pageBody",JSON.stringify(b)))}))}catch(e){_=!0,k=e}finally{try{w||null==G.return||G.return()}finally{if(_)throw k}}}();
//# sourceMappingURL=index.0a1cb8c1.js.map
