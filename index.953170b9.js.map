{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,WCPXN,OAAOC,eAAeqB,EAAS,aAAc,CACzCnB,OAAO,IAEXmB,EAAQlB,QACR,SAAyBmB,EAAKN,EAAKd,GAC3Bc,KAAOM,EACPvB,OAAOC,eAAesB,EAAKN,EAAK,CAC5Bd,MAAOA,EACPW,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdO,EAAIN,GAAOd,EAEf,OAAOoB,C,EChBJ,IAAAC,EAAA,SAAMC,I,0BAQTC,KAAKC,iBAAmBF,EAASE,kBAAoB,EACrDD,KAAKE,KAAO,KACZF,KAAKG,OAAS,KACdH,KAAKI,OAAQ,EACbJ,KAAKK,QAAS,EACdL,KAAKM,SAAU,C,EAZjBC,EAAAX,EAAA,CADWE,EACJ,mBAAmB,GCCrB,IAAAU,ECFJ,W,sBDEUC,I,IASTC,EAAAC,UAAAzB,OAAA,YAAAyB,UAAA,GAQMA,UAAA,GAAF,GAAEC,EARNF,EAEEG,UAAE,IAAAD,EAAG,KAAIA,EAAAE,EAFXJ,EAGEK,YAAI,IAAAD,EAAG,KAAIA,EAAAE,EAHbN,EAIEO,cAAM,IAAAD,EAAG,KAAIA,EAAAE,EAJfR,EAKES,wBAAgB,IAAAD,GAAQA,EAAAE,EAL1BV,EAMEW,2BAAmB,IAAAD,GAAQA,EAAAE,EAN7BZ,EAOEa,iBAAS,IAAAD,EAAG,GAAEA,EAEhBE,EAAgBb,UAAAzB,OAAA,EAAAyB,UAAA,U,aAEhBX,KAAKyB,iBAAmBD,EACxBxB,KAAKa,GAAKA,EACVb,KAAKiB,OAASA,EACdjB,KAAKmB,iBAAmBA,EACxBnB,KAAKqB,oBAAsBA,EAC3BrB,KAAKuB,UAAYA,EACjBvB,KAAKe,KAAOA,C,iBAyBdxB,IAAA,c,MAAA,WACES,KAAKuB,UAAUG,KAAK,IAAI5B,E,OCtDzB,GCAI,SAAS6B,I,IACdjB,EAAAC,UAAAzB,OAAA,YAAAyB,UAAA,GAQMA,UAAA,GAAF,GAPFc,EADFf,EACEe,iBAAgBb,EADlBF,EAEEG,UAAE,IAAAD,EAAG,GAAEA,EAAAI,EAFTN,EAGEO,cAAM,IAAAD,EAAG,GAAEA,EACXG,EAJFT,EAIES,iBACAE,EALFX,EAKEW,oBAAmBP,EALrBJ,EAMEK,YAAI,IAAAD,EAAG,GAAEA,EAGXc,GATAlB,EAOEa,UAEYZ,UAAAzB,OAAA,EAAAyB,UAAA,WAERkB,EAAWC,SAASC,cAAc,WAClCC,EAAS,sDAIaC,OAJwCR,EAAiB,iLASnCQ,OALtBR,EAAiB,mLASmCQ,OAJ9BlB,EAAK,4JAQ3CkB,OAJoEpB,EAAG,kHAUvEoB,QANqB,IAArBd,EAA4B,UAAY,GACzC,sIAcuCc,QATd,IAAxBZ,EAA+B,UAAY,GAC5C,6OAaDY,OALwChB,EAAO,kKAMhDgB,OADoB,SAAnBL,EAA4B,WAAa,GAC1C,miDAmDTC,EAASK,mBAAmB,YAAaF,E,CFnGzCzB,EAAAX,EAAA,CADWY,EACJ,mBAAmB,GGArB,IAAA2B,EFHJ,W,sBEGUC,I,IAGC1B,EAAAC,UAAAzB,OAAA,YAAAyB,UAAA,GAGNA,UAAA,GAAF,GAAE0B,EAHM3B,EACV4B,sBAAc,IAAAD,EAAID,EAAOE,gBAAkB,EAACD,EAACE,EADnC7B,EAEV8B,YAAI,IAAAD,EAAG,GAAEA,E,aAETvC,KAAKsC,eAAiBA,EACtBtC,KAAKwC,KAAOA,C,iBAMdjD,IAAA,c,MAAA,SAAYiC,GACVxB,KAAKwC,KAAKd,KAAK,IAAIlB,EAAS,GAAIgB,G,OFlBjC,GEIDjB,EAAAX,EAAA,CADWuC,EACJ,iBAAiB,GCFnB,IAAAM,EAAA,SAAMC,I,iBAEChC,EAAAC,UAAAzB,OAAA,YAAAyB,UAAA,GAAkBA,UAAA,GAAF,GAAE4B,EAAlB7B,EAAE8B,YAAI,IAAAD,EAAG,GAAEA,E,aADvBhC,EAAAX,EAAA,CAAAI,KAAA,eAEEA,KAAKwC,KAAOA,C,ECOGV,SAASC,cAAc,gBACrBD,SAASC,cAAc,kBAD5C,IAEMY,EAAiBb,SAASC,cAAc,oBACxCa,EAAWd,SAASC,cAAc,WAEpCc,EAAmBC,SAASC,aAAaC,QAAQ,sBAAwB,EAOzEC,EAAe,IAAIC,aAAaC,OALtB,CACZC,MAAO,IACPC,OAAQ,MAMNC,ECtBG,WACL,IAAKP,aAAaC,QAAQ,YACxB,OAAO,KAET,IAAMO,EAAO,IAAId,EAEXe,EAAOC,KAAKC,MAAMX,aAAaC,QAAQ,aACxCW,GAAU,EAAVC,GAAU,EAAVC,OAAUC,E,IAAf,QAAKC,EAAAC,EAAcR,EAAKhB,KAAIyB,OAAAC,cAAvBP,GAAAI,EAAAC,EAAUG,QAAAC,MAAVT,GAAU,EAAe,CAAzBU,WAAAN,EAAUtF,MACb,IAAM6F,EAAS,IAAInC,EACnBoB,EAAKf,KAAKd,KAAK4C,G,IAEVC,GAAY,EAAZC,GAAY,EAAZC,OAAYX,E,IAAjB,QAAKY,EAAAC,EAAgBN,WAAW7B,KAAIyB,OAAAC,cAA/BK,GAAAG,EAAAC,EAAYR,QAAAC,MAAZG,GAAY,EAAqB,CAAjCK,aAAAF,EAAYjG,MACf,IAAMoG,EAAW,IAAIrE,EACnBoE,aACAA,aAAanD,kBAEf6C,EAAO9B,KAAKd,KAAKmD,G,IAEZC,GAAY,EAAZC,GAAY,EAAZC,OAAYlB,E,IAAjB,QAAKmB,EAAAC,EAAgBN,aAAarD,UAAS0C,OAAAC,cAAtCY,GAAAG,EAAAC,EAAYf,QAAAC,MAAZU,GAAY,EAA4B,CAAxCK,aAAAF,EAAYxG,MACf,IAAM2G,EAAW,IAAItF,EACrB+E,EAAStD,UAAUG,KAAK0D,E,WAFrBL,GAAY,EAAZC,EAAYK,C,aAAZP,GAAY,MAAZI,EAAYI,QAAZJ,EAAYI,Q,YAAZP,E,MAAAC,C,aAPFR,GAAY,EAAZC,EAAYY,C,aAAZd,GAAY,MAAZI,EAAYW,QAAZX,EAAYW,Q,YAAZd,E,MAAAC,C,aAJFb,GAAU,EAAVC,EAAUwB,C,aAAV1B,GAAU,MAAVK,EAAUsB,QAAVtB,EAAUsB,Q,YAAV1B,E,MAAAC,C,EAkBL,OAAON,C,CDHE,GAMX,GAJa,OAATD,IACFA,EAAO,IAAIb,GAGY,IAArBa,EAAKd,KAAKtD,OAAc,CAC1B,IACMqG,EADSjC,EAAKd,KAAK,GACOA,KAAKgD,MAAK,SAACC,EAAGC,GAC5CD,EAAEhE,iBAAmBiE,EAAEjE,gB,IAEpBkE,GAAU,EAAVC,GAAU,EAAVC,OAAU/B,E,IAAf,I,IAAKgC,E,gBAAA,IAAMC,EAANhC,EAAUtF,MACb,GAAQsH,IACDR,EAAiBA,EAAiBrG,OAAS,GAC9CyC,EAAmBoE,EAAM,aAGzBpE,EAAmBoE,GAGvB7C,aAAaQ,MAAMqC,EAAK9E,QAAQ,SAAU+E,GACxC/C,EAAagD,KAAKD,EAAM,SAA+B/D,OAAtB8D,EAAKtE,kBAAoB,SAAS,E,KAVlEyE,EAAcX,EAAgBtB,OAAAC,cAA9ByB,GAAAG,EAAAI,EAAU/B,QAAAC,MAAVuB,GAAU,EAAAQ,EAAAD,EAAAJ,E,UAAVF,GAAU,EAAVC,EAAUR,C,aAAVM,GAAU,MAAVO,EAAUZ,QAAVY,EAAUZ,Q,YAAVM,E,MAAAC,C,QAcLO,QAAQC,IAAI,0BACZ/C,EAAKd,KAAKd,KAAK,IAAIS,GAMrBQ,EAAe2D,iBAAiB,SAAS,WACvCzD,GAAoB,EACpBE,aAAawD,QAAQ,mBAAoB1D,GACzCS,EAAKd,KAAK,GAAGgE,YAAY3D,GACzBlB,EAAmB2B,EAAKd,KAAK,GAAGA,KAAKc,EAAKd,KAAK,GAAGA,KAAKtD,OAAS,IAChE0D,EAAS6D,UAAUH,iBAAiB,QAASI,GAC7C9D,EAAS6D,UAAUH,iBAAiB,SAAUK,GAC9C5D,aAAawD,QAAQ,WAAY9C,KAAKmD,UAAUtD,G,IAGlD,IAAMuD,EAAkB/E,SAASgF,iBAAiB,aAE7CC,GAAI,EAAJC,GAAI,EAAJC,OAAInD,E,IAAT,QAAKoD,EAAAC,EAAQN,EAAe5C,OAAAC,cAAvB6C,GAAAG,EAAAC,EAAIhD,QAAAC,MAAJ2C,GAAI,EAAJK,KAAAF,EAAIzI,MACP2I,KAAKd,iBAAiB,QAASI,GAC/BU,KAAKd,iBAAiB,SAAUK,E,UAF7BK,GAAI,EAAJC,EAAI5B,C,aAAJ0B,GAAI,MAAJI,EAAI7B,QAAJ6B,EAAI7B,Q,YAAJ0B,E,MAAAC,C,EAQL,SAASP,EAAiBW,GACxB,GAA0B,UAAtBA,EAAEtI,OAAOuI,UAA0C,SAAlBD,EAAEtI,OAAOwI,KAAiB,CAC7D,IAAMC,EAAiBlE,EAAKd,KAAK,GAAGA,KAAKiF,MACvC,SAAAL,G,OAAQA,EAAK3F,mBAAqBqB,SAASuE,EAAEK,cAAcC,QAAQC,G,IAKrE,GAHAJ,EAAeH,EAAEtI,OAAO8I,MAAQR,EAAEtI,OAAON,MACzCsE,aAAawD,QAAQ,WAAY9C,KAAKmD,UAAUtD,IAE1B,WAAlB+D,EAAEtI,OAAO8I,KAAmB,CAC9B,IAAMC,EAAiBT,EAAEK,cAAc3F,cACrC,4BAEFmB,aAAaQ,MAAM2D,EAAEtI,OAAON,OAAO,SAAUuH,GAC3C/C,EAAagD,KACXD,EACA,SAAoC/D,OAA3BoF,EAAEK,cAAcC,QAAQC,IACjC,SACA,E,IAGJxB,QAAQC,IACNnD,aAAaQ,MAAM2D,EAAEtI,OAAON,OAAO,SAAAuH,GACjC,IAAM+B,EAAU9E,EAAa+E,oBAAoBhC,GACjD8B,EAAerJ,MAAQwJ,KAAKF,GAAS7H,KACrCsH,EAAe3G,GAAKoH,KAAKF,GAAS7H,KAClC6C,aAAawD,QAAQ,WAAY9C,KAAKmD,UAAUtD,G,OAS1D,SAASqD,EAAsBU,GACH,UAAtBA,EAAEtI,OAAOuI,UAA0C,aAAlBD,EAAEtI,OAAOwI,OACrBjE,EAAKd,KAAK,GAAGA,KAAKiF,MACvC,SAAAL,G,OAAQA,EAAK3F,mBAAqBqB,SAASuE,EAAEK,cAAcC,QAAQC,G,IAEtDP,EAAEtI,OAAO8I,MAAQR,EAAEtI,OAAOmJ,QACzCnF,aAAawD,QAAQ,WAAY9C,KAAKmD,UAAUtD,I","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_define_property.js","src/js/fraction.js","src/js/compound.js","<<jsx-config-pragma.js>>","src/js/renderCompoundForm.js","src/js/scheme.js","src/js/page.js","src/js/eln.js","src/js/localStorage.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","export class Fraction {\n  static fractionGlobalID = 0;\n  // #mass;\n  // #purity;\n  // #isNMR;\n  // #isLCMS;\n  // #comment;\n  constructor() {\n    this.fractionGlobalID = Fraction.fractionGlobalID += 1;\n    this.mass = null;\n    this.purity = null;\n    this.isNMR = false;\n    this.isLCMS = false;\n    this.comment = false;\n  }\n}\n","import { Fraction } from './fraction';\n\nexport class Compound {\n  static compoundGlobalID = 0;\n  // #mw;\n  // #smiles;\n  // #isTestSuccessful;\n  // #isScalingSuccessful;\n  // #fractions;\n\n  constructor(\n    {\n      // compoundGlobalID = (Compound.compoundGlobalID += 1),\n      mw = null,\n      dbID = null,\n      smiles = null,\n      isTestSuccessful = false,\n      isScalingSuccessful = false,\n      fractions = [],\n    } = {},\n    globalCompoundID\n  ) {\n    this.compoundGlobalID = globalCompoundID;\n    this.mw = mw;\n    this.smiles = smiles;\n    this.isTestSuccessful = isTestSuccessful;\n    this.isScalingSuccessful = isScalingSuccessful;\n    this.fractions = fractions;\n    this.dbID = dbID;\n  }\n\n  // get isTestSuccessful() {\n  //   return this.#isTestSuccessful;\n  // }\n  // get isScalingSuccessful() {\n  //   return this.#isScalingSuccessful;\n  // }\n\n  // set isTestSuccessful(value) {\n  //   if (typeof value === 'boolean') {\n  //     this.#isTestSuccessful = value;\n  //   } else {\n  //     throw new Error('Value must be a boolean');\n  //   }\n  // }\n  // set isScalingSuccessful(value) {\n  //   if (typeof value === 'boolean') {\n  //     this.#isScalingSuccessful = value;\n  //   } else {\n  //     throw new Error('Value must be a boolean');\n  //   }\n  // }\n\n  addFraction() {\n    this.fractions.push(new Fraction());\n  }\n}\n",null,"export function renderCompoundForm(\n  {\n    compoundGlobalID,\n    mw = '',\n    smiles = '',\n    isTestSuccessful,\n    isScalingSuccessful,\n    dbID = '',\n    fractions,\n  } = {},\n  isLastInScheme\n) {\n  const mainPage = document.querySelector('.scheme');\n  const markup = `<form action=\"#\" class=\"compound-form\" data-id = '${compoundGlobalID}'>\n    <div class=\"compound-form__body\">\n      <div class=\"compound-form__upper-part\">\n        <div class=\"compound-form-canvas-container\">\n          <canvas id=\"canvas${compoundGlobalID}\"></canvas>\n        </div>\n        <div class=\"compound-form__compound-data\">\n          <label class=\"\">\n            ID\n            <input type=\"text\" name=\"dbID\" value=\"${dbID}\" />\n          </label>\n          <label class=\"\">\n            MW\n            <input class='compound-form__mw-input' type=\"text\" name=\"mw\" value=\"${mw}\" />\n          </label>\n          <label>\n            <input type=\"checkbox\" id=\"\" name=\"isTestSuccessful\" ${\n              isTestSuccessful === true ? 'checked' : ''\n            } />\n            Test\n          </label>\n          <label>\n            <input type=\"checkbox\" id=\"\" name=\"isScalingSuccessful\" ${\n              isScalingSuccessful === true ? 'checked' : ''\n            } />\n            Scaling\n          </label>\n        </div>\n      </div>\n      <div class=\"compound-form__lower-part\">\n        <label class=\"text-input-label\">\n          SMILES\n          <input type=\"text\" name=\"smiles\" value=\"${smiles}\" />\n        </label>\n        <div class=\"compound-from__button-block\">\n          <button type=\"submit\">Add task</button>\n          <button type=\"submit\" ${\n            isLastInScheme !== 'last' ? 'disabled' : ''\n          }>Add compund</button>\n          <label>\n            Fractions\n            <input type=\"checkbox\" name=\"\" id=\"\" />\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class=\"compound-form__fractions\">\n      <div class=\"compound-form__fractions-main\">\n        <label>\n          Fractions\n          <select name=\"\" id=\"\">\n            <option value=\"\">Fraction 1</option>\n            <option value=\"\">Fraction 2</option>\n          </select>\n        </label>\n        <button type=\"submit\">Add fraction</button>\n      </div>\n      <div class=\"compound-form__single-fraction\">\n        <div class=\"compound-form__single-fraction-upper-part\">\n          <div class=\"compound-form__single-fraction-characteristics\">\n            <label class=\"\">\n              Mass\n              <input type=\"text\" />\n            </label>\n            <label class=\"\">\n              Purity\n              <input type=\"text\" />\n            </label>\n          </div>\n          <div class=\"compound-form__single-fraction-spectra\">\n            <label>\n              <input type=\"checkbox\" name=\"\" id=\"\" />\n              NMR\n            </label>\n            <label>\n              <input type=\"checkbox\" name=\"\" id=\"\" />\n              LCMS\n            </label>\n          </div>\n        </div>\n        <div class=\"compound-form__single-fraction-lower-part\">\n          <label class=\"\">\n            Comments\n            <textarea name=\"\" id=\"\" cols=\"30\" rows=\"3\"></textarea>\n          </label>\n        </div>\n      </div>\n    </div>\n  </form>`;\n  mainPage.insertAdjacentHTML('beforeend', markup);\n}\n","import { Compound } from './compound.js';\nimport { renderCompoundForm } from './renderCompoundForm.js';\n\nexport class Scheme {\n  static schemeGlobalID = 0;\n  // #body;\n  constructor({\n    schemeGlobalID = (Scheme.schemeGlobalID += 1),\n    body = [],\n  } = {}) {\n    this.schemeGlobalID = schemeGlobalID;\n    this.body = body;\n    // if (this.body.length === 0) {\n    //   this.body.push(new Compound());\n    // }\n  }\n\n  addCompound(globalCompoundID) {\n    this.body.push(new Compound({}, globalCompoundID));\n    // renderCompoundForm();\n  }\n\n  // get body() {\n  //   return this.#body;\n  // }\n}\n","import { Scheme } from './scheme';\n\nexport class Page {\n  body;\n  constructor({ body = [] } = {}) {\n    this.body = body;\n    // if (this.body.length === 0) {\n    //   this.body.push(new Scheme());\n    // }\n  }\n\n  //   get body() {\n  //     return this.#body;\n  //   }\n}\n","import { Scheme } from './scheme.js';\nimport { Compound } from './compound.js';\nimport { Fraction } from './fraction.js';\nimport { Page } from './page.js';\nimport { renderCompoundForm } from './renderCompoundForm.js';\n\n// import { conformsTo } from 'lodash';\nimport { getFromLocalStorage } from './localStorage.js';\n// import { Drawer } from './../../node_modules/smiles-drawer/dist/smiles-drawer.min';\n// const SmilesDrawer = require('smiles-drawer');\n// const SmilesDrawer = require('./../../node_modules/smiles-drawer/dist/smiles-drawer.min');\n\nconst pageButton = document.querySelector('.page-button');\nconst schemeButton = document.querySelector('.scheme-button');\nconst compoundButton = document.querySelector('.compound-button');\nconst mainPage = document.querySelector('.scheme');\n\nlet globalCompoundID = parseInt(localStorage.getItem('globalCompoundID')) || 0;\n\nlet options = {\n  width: 150,\n  height: 150,\n};\n\nlet smilesDrawer = new SmilesDrawer.Drawer(options);\n\n///Initial loading page data  from localstorage and renderinf of the page\nlet page = getFromLocalStorage();\n\nif (page === null) {\n  page = new Page();\n}\n\nif (page.body.length !== 0) {\n  const scheme = page.body[0];\n  const sortedSchemeBody = scheme.body.sort((a, b) => {\n    a.compoundGlobalID - b.compoundGlobalID;\n  });\n  for (const item of sortedSchemeBody) {\n    switch (item) {\n      case sortedSchemeBody[sortedSchemeBody.length - 1]:\n        renderCompoundForm(item, 'last');\n        break;\n      default:\n        renderCompoundForm(item);\n    }\n    // renderCompoundForm(item);\n    SmilesDrawer.parse(item.smiles, function (tree) {\n      smilesDrawer.draw(tree, `canvas${item.compoundGlobalID}`, 'light', false);\n    });\n  }\n} else {\n  console.log('local storage is empty');\n  page.body.push(new Scheme());\n}\n\n/// This listener creates a new form on \"Add compound\" button click. It calculates new  globalCompoundID and saves new value to localStorage,\n/// add new compound object to the page object, render the form, adds eventlisteners to it and saves new page object to localstorage\n\ncompoundButton.addEventListener('click', () => {\n  globalCompoundID += 1;\n  localStorage.setItem('globalCompoundID', globalCompoundID);\n  page.body[0].addCompound(globalCompoundID);\n  renderCompoundForm(page.body[0].body[page.body[0].body.length - 1]);\n  mainPage.lastChild.addEventListener('input', textInputHandler);\n  mainPage.lastChild.addEventListener('change', checkboxClicksHandler);\n  localStorage.setItem('pageBody', JSON.stringify(page));\n});\n\nconst formsCollection = document.querySelectorAll('[data-id]');\n\nfor (item of formsCollection) {\n  item.addEventListener('input', textInputHandler);\n  item.addEventListener('change', checkboxClicksHandler);\n}\n\n///Checks if the target is text input and if it is - on change saves its value  to localstorage\n/// If it is a SMILES input - draws molecule to canvas\n\nfunction textInputHandler(e) {\n  if (e.target.nodeName === 'INPUT' && e.target.type === 'text') {\n    const compoundObject = page.body[0].body.find(\n      item => item.compoundGlobalID === parseInt(e.currentTarget.dataset.id)\n    );\n    compoundObject[e.target.name] = e.target.value;\n    localStorage.setItem('pageBody', JSON.stringify(page));\n\n    if (e.target.name === 'smiles') {\n      const molWeightInput = e.currentTarget.querySelector(\n        '.compound-form__mw-input'\n      );\n      SmilesDrawer.parse(e.target.value, function (tree) {\n        smilesDrawer.draw(\n          tree,\n          `canvas${e.currentTarget.dataset.id}`,\n          'light',\n          false\n        );\n      });\n      console.log(\n        SmilesDrawer.parse(e.target.value, tree => {\n          const formula = smilesDrawer.getMolecularFormula(tree);\n          molWeightInput.value = calc(formula).mass;\n          compoundObject.mw = calc(formula).mass;\n          localStorage.setItem('pageBody', JSON.stringify(page));\n        })\n      );\n    }\n  }\n}\n\n///Checks if the target is checkbox and if it is - on change saves its value  to localstorage\n\nfunction checkboxClicksHandler(e) {\n  if (e.target.nodeName === 'INPUT' && e.target.type === 'checkbox') {\n    const compoundObject = page.body[0].body.find(\n      item => item.compoundGlobalID === parseInt(e.currentTarget.dataset.id)\n    );\n    compoundObject[e.target.name] = e.target.checked;\n    localStorage.setItem('pageBody', JSON.stringify(page));\n  }\n}\n","import { Page } from './page';\nimport { Scheme } from './scheme';\nimport { Compound } from './compound';\nimport { Fraction } from './fraction';\n\nexport function getFromLocalStorage() {\n  if (!localStorage.getItem('pageBody')) {\n    return null;\n  }\n  const page = new Page();\n\n  const data = JSON.parse(localStorage.getItem('pageBody'));\n  for (schemeData of data.body) {\n    const scheme = new Scheme();\n    page.body.push(scheme);\n\n    for (compoundData of schemeData.body) {\n      const compound = new Compound(\n        compoundData,\n        compoundData.compoundGlobalID\n      );\n      scheme.body.push(compound);\n\n      for (fractionData of compoundData.fractions) {\n        const fraction = new Fraction();\n        compound.fractions.push(fraction);\n      }\n    }\n  }\n\n  return page;\n}\n\n// export function\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$cec85eba0a352189$exports","obj","$d67921ee12eadc51$export$b336c2702c498be5","Fraction","this","fractionGlobalID","mass","purity","isNMR","isLCMS","comment","$parcel$interopDefault","$7b31147ec915daf0$export$3898397e4b5f0c95","Compound","ref","arguments","_mw","mw","_dbID","dbID","_smiles","smiles","_isTestSuccessful","isTestSuccessful","_isScalingSuccessful","isScalingSuccessful","_fractions","fractions","globalCompoundID","compoundGlobalID","push","$1b8ba58b1229bd09$export$8892eb4527f7cb1c","isLastInScheme","mainPage","document","querySelector","markup","concat","insertAdjacentHTML","$735bf0ab80c69926$export$c82fc41ad191f9b2","Scheme","_schemeGlobalID","schemeGlobalID","_body","body","$d393c6b361322d0d$export$6955bcca4cd3539f","Page","$9b40833cdc4e19db$var$compoundButton","$9b40833cdc4e19db$var$mainPage","$9b40833cdc4e19db$var$globalCompoundID","parseInt","localStorage","getItem","$9b40833cdc4e19db$var$smilesDrawer","SmilesDrawer","Drawer","width","height","$9b40833cdc4e19db$var$page","page","data","JSON","parse","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","schemeData","scheme","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","compoundData","compound","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","fractionData","fraction","err","return","$9b40833cdc4e19db$var$sortedSchemeBody","sort","a","b","$9b40833cdc4e19db$var$_iteratorNormalCompletion","$9b40833cdc4e19db$var$_didIteratorError","$9b40833cdc4e19db$var$_iteratorError","$9b40833cdc4e19db$var$_step","_$item","tree","draw","$9b40833cdc4e19db$var$_iterator","$9b40833cdc4e19db$var$_loop","console","log","addEventListener","setItem","addCompound","lastChild","$9b40833cdc4e19db$var$textInputHandler","$9b40833cdc4e19db$var$checkboxClicksHandler","stringify","$9b40833cdc4e19db$var$formsCollection","querySelectorAll","$9b40833cdc4e19db$var$_iteratorNormalCompletion1","$9b40833cdc4e19db$var$_didIteratorError1","$9b40833cdc4e19db$var$_iteratorError1","$9b40833cdc4e19db$var$_step1","$9b40833cdc4e19db$var$_iterator1","item","e","nodeName","type","compoundObject","find","currentTarget","dataset","id","name","molWeightInput","formula","getMolecularFormula","calc","checked"],"version":3,"file":"index.953170b9.js.map"}